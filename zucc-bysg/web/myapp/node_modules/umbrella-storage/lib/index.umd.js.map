{"version":3,"file":"index.umd.js","sources":["../src/utils.ts","../src/storage.ts","../src/index.ts"],"sourcesContent":["/*\r\n * File: utils.ts\r\n * Desc: utils\r\n * File Created: 2019-12-31 13:30:47\r\n * Author: chenghao\r\n * ------\r\n * Copyright 2019 - present, chenghao\r\n */\r\nexport function isJsonString(str: string) {\r\n    try {\r\n        JSON.parse(str);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n}\r\n","/*\r\n* File: storage.ts\r\n* Desc: storage do sth\r\n* File Created: 2019-12-31 14:33:04\r\n* Author: chenghao\r\n* ------\r\n* Copyright 2019 - present, chenghao\r\n*/\r\nimport { isJsonString } from './utils';\r\ntype TstorageType = 'localStorage' | 'sessionStorage';\r\nclass storage {\r\n    static prefix = location.origin + location.pathname;\r\n\r\n    static setStorage(storageType: TstorageType, key: string, value: any) {\r\n        key = this.transformKey(key);\r\n        if (typeof value !== 'string') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        window[storageType].setItem(key, value);\r\n    }\r\n\r\n    static getStorage(storageType: TstorageType, key: string, withoutParse?: boolean) {\r\n        const value = window[storageType].getItem(this.transformKey(key));\r\n        if (!value) return null;\r\n        if (withoutParse) return value;\r\n        if (isJsonString(value)) return JSON.parse(value);\r\n        return value;\r\n    }\r\n\r\n    static removeStorage(storageType: TstorageType, key: string) {\r\n        window[storageType].removeItem(this.transformKey(key));\r\n    }\r\n\r\n    static transformKey(key: string) {\r\n        return `${this.prefix}@${key}`;\r\n    }\r\n}\r\n\r\nexport default storage;\r\n","/*\r\n * File: index.ts\r\n * Desc: local storage helper\r\n * File Created: 2019-12-31 13:09:01\r\n * Author: chenghao\r\n * ------\r\n * Copyright 2019 - present, chenghao\r\n */\r\nimport storage from './storage';\r\nclass umbrella {\r\n    static config(prefix: string) {\r\n        storage.prefix = prefix;\r\n    }\r\n\r\n    static setLocalStorage(key: string, value: any) {\r\n        storage.setStorage('localStorage', key, value);\r\n    }\r\n    static getLocalStorage(key: string, withoutParse?: boolean) {\r\n        return storage.getStorage('localStorage', key, withoutParse);\r\n    }\r\n    static removeLocalStorage(key: string) {\r\n        storage.removeStorage('localStorage', key);\r\n    }\r\n\r\n    static setSessionStorage(key: string, value: any) {\r\n        storage.setStorage('sessionStorage', key, value);\r\n    }\r\n    static getSessionStorage(key: string, withoutParse?: boolean) {\r\n        return storage.getStorage('sessionStorage', key, withoutParse);\r\n    }\r\n    static removeSessionStorage(key: string) {\r\n        storage.removeStorage('sessionStorage', key);\r\n    }\r\n}\r\n\r\nexport default umbrella;\r\n"],"names":[],"mappings":";;;;;;aAQgB,YAAY,CAAC,GAAW;QACpC,IAAI;YACA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAChB,OAAO,IAAI,CAAC;SACf;QAAC,OAAO,KAAK,EAAE;YACZ,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;;;ICLD;QAAA;SA0BC;QAvBU,kBAAU,GAAjB,UAAkB,WAAyB,EAAE,GAAW,EAAE,KAAU;YAChE,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC7B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;gBAC3B,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aACjC;YACD,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SAC3C;QAEM,kBAAU,GAAjB,UAAkB,WAAyB,EAAE,GAAW,EAAE,YAAsB;YAC5E,IAAM,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YAClE,IAAI,CAAC,KAAK;gBAAE,OAAO,IAAI,CAAC;YACxB,IAAI,YAAY;gBAAE,OAAO,KAAK,CAAC;YAC/B,IAAI,YAAY,CAAC,KAAK,CAAC;gBAAE,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAClD,OAAO,KAAK,CAAC;SAChB;QAEM,qBAAa,GAApB,UAAqB,WAAyB,EAAE,GAAW;YACvD,MAAM,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;SAC1D;QAEM,oBAAY,GAAnB,UAAoB,GAAW;YAC3B,OAAU,IAAI,CAAC,MAAM,SAAI,GAAK,CAAC;SAClC;QAxBM,cAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAyBxD,cAAC;KA1BD,IA0BC;AAED;;IC7BA;QAAA;SAwBC;QAvBU,eAAM,GAAb,UAAc,MAAc;YACxB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;SAC3B;QAEM,wBAAe,GAAtB,UAAuB,GAAW,EAAE,KAAU;YAC1C,OAAO,CAAC,UAAU,CAAC,cAAc,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;SAClD;QACM,wBAAe,GAAtB,UAAuB,GAAW,EAAE,YAAsB;YACtD,OAAO,OAAO,CAAC,UAAU,CAAC,cAAc,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;SAChE;QACM,2BAAkB,GAAzB,UAA0B,GAAW;YACjC,OAAO,CAAC,aAAa,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;SAC9C;QAEM,0BAAiB,GAAxB,UAAyB,GAAW,EAAE,KAAU;YAC5C,OAAO,CAAC,UAAU,CAAC,gBAAgB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;SACpD;QACM,0BAAiB,GAAxB,UAAyB,GAAW,EAAE,YAAsB;YACxD,OAAO,OAAO,CAAC,UAAU,CAAC,gBAAgB,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;SAClE;QACM,6BAAoB,GAA3B,UAA4B,GAAW;YACnC,OAAO,CAAC,aAAa,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;SAChD;QACL,eAAC;IAAD,CAAC,IAAA;;;;;;;;"}