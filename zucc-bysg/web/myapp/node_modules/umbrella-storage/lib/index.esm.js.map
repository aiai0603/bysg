{"version":3,"file":"index.esm.js","sources":["../src/utils.ts","../src/storage.ts","../src/index.ts"],"sourcesContent":["/*\r\n * File: utils.ts\r\n * Desc: utils\r\n * File Created: 2019-12-31 13:30:47\r\n * Author: chenghao\r\n * ------\r\n * Copyright 2019 - present, chenghao\r\n */\r\nexport function isJsonString(str: string) {\r\n    try {\r\n        JSON.parse(str);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n}\r\n","/*\r\n* File: storage.ts\r\n* Desc: storage do sth\r\n* File Created: 2019-12-31 14:33:04\r\n* Author: chenghao\r\n* ------\r\n* Copyright 2019 - present, chenghao\r\n*/\r\nimport { isJsonString } from './utils';\r\ntype TstorageType = 'localStorage' | 'sessionStorage';\r\nclass storage {\r\n    static prefix = location.origin + location.pathname;\r\n\r\n    static setStorage(storageType: TstorageType, key: string, value: any) {\r\n        key = this.transformKey(key);\r\n        if (typeof value !== 'string') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        window[storageType].setItem(key, value);\r\n    }\r\n\r\n    static getStorage(storageType: TstorageType, key: string, withoutParse?: boolean) {\r\n        const value = window[storageType].getItem(this.transformKey(key));\r\n        if (!value) return null;\r\n        if (withoutParse) return value;\r\n        if (isJsonString(value)) return JSON.parse(value);\r\n        return value;\r\n    }\r\n\r\n    static removeStorage(storageType: TstorageType, key: string) {\r\n        window[storageType].removeItem(this.transformKey(key));\r\n    }\r\n\r\n    static transformKey(key: string) {\r\n        return `${this.prefix}@${key}`;\r\n    }\r\n}\r\n\r\nexport default storage;\r\n","/*\r\n * File: index.ts\r\n * Desc: local storage helper\r\n * File Created: 2019-12-31 13:09:01\r\n * Author: chenghao\r\n * ------\r\n * Copyright 2019 - present, chenghao\r\n */\r\nimport storage from './storage';\r\nclass umbrella {\r\n    static config(prefix: string) {\r\n        storage.prefix = prefix;\r\n    }\r\n\r\n    static setLocalStorage(key: string, value: any) {\r\n        storage.setStorage('localStorage', key, value);\r\n    }\r\n    static getLocalStorage(key: string, withoutParse?: boolean) {\r\n        return storage.getStorage('localStorage', key, withoutParse);\r\n    }\r\n    static removeLocalStorage(key: string) {\r\n        storage.removeStorage('localStorage', key);\r\n    }\r\n\r\n    static setSessionStorage(key: string, value: any) {\r\n        storage.setStorage('sessionStorage', key, value);\r\n    }\r\n    static getSessionStorage(key: string, withoutParse?: boolean) {\r\n        return storage.getStorage('sessionStorage', key, withoutParse);\r\n    }\r\n    static removeSessionStorage(key: string) {\r\n        storage.removeStorage('sessionStorage', key);\r\n    }\r\n}\r\n\r\nexport default umbrella;\r\n"],"names":[],"mappings":"SAQgB,YAAY,CAAC,GAAW;IACpC,IAAI;QACA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAChB,OAAO,IAAI,CAAC;KACf;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,KAAK,CAAC;KAChB;CACJ;;;ACLD;IAAA;KA0BC;IAvBU,kBAAU,GAAjB,UAAkB,WAAyB,EAAE,GAAW,EAAE,KAAU;QAChE,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC3B,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SACjC;QACD,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;KAC3C;IAEM,kBAAU,GAAjB,UAAkB,WAAyB,EAAE,GAAW,EAAE,YAAsB;QAC5E,IAAM,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,KAAK;YAAE,OAAO,IAAI,CAAC;QACxB,IAAI,YAAY;YAAE,OAAO,KAAK,CAAC;QAC/B,IAAI,YAAY,CAAC,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAClD,OAAO,KAAK,CAAC;KAChB;IAEM,qBAAa,GAApB,UAAqB,WAAyB,EAAE,GAAW;QACvD,MAAM,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;KAC1D;IAEM,oBAAY,GAAnB,UAAoB,GAAW;QAC3B,OAAU,IAAI,CAAC,MAAM,SAAI,GAAK,CAAC;KAClC;IAxBM,cAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC;IAyBxD,cAAC;CA1BD,IA0BC;AAED;;AC7BA;IAAA;KAwBC;IAvBU,eAAM,GAAb,UAAc,MAAc;QACxB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;KAC3B;IAEM,wBAAe,GAAtB,UAAuB,GAAW,EAAE,KAAU;QAC1C,OAAO,CAAC,UAAU,CAAC,cAAc,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;KAClD;IACM,wBAAe,GAAtB,UAAuB,GAAW,EAAE,YAAsB;QACtD,OAAO,OAAO,CAAC,UAAU,CAAC,cAAc,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;KAChE;IACM,2BAAkB,GAAzB,UAA0B,GAAW;QACjC,OAAO,CAAC,aAAa,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;KAC9C;IAEM,0BAAiB,GAAxB,UAAyB,GAAW,EAAE,KAAU;QAC5C,OAAO,CAAC,UAAU,CAAC,gBAAgB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;KACpD;IACM,0BAAiB,GAAxB,UAAyB,GAAW,EAAE,YAAsB;QACxD,OAAO,OAAO,CAAC,UAAU,CAAC,gBAAgB,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;KAClE;IACM,6BAAoB,GAA3B,UAA4B,GAAW;QACnC,OAAO,CAAC,aAAa,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;KAChD;IACL,eAAC;CAAA,IAAA;;;;"}