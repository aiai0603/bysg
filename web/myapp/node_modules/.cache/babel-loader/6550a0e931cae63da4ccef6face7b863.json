{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/notification/style\";\nimport _notification from \"antd/lib/notification\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\zucc-bysg\\\\web\\\\myapp\\\\src\\\\components\\\\pages\\\\changePass.tsx\";\nimport React, { Component } from 'react';\nimport BreadcrumbCustom from '../BreadcrumbCustom';\nimport { get, post } from '../../service/tools';\nimport umbrella from 'umbrella-storage';\nimport { withRouter } from 'react-router';\nconst FormItem = _Form.Item;\n\nclass BasicForms extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      confirmDirty: false,\n      loading: false,\n      data: {\n        adminId: '',\n        role: 0,\n        password: \"\"\n      }\n    };\n\n    this.back = () => {\n      this.props.history.go(-1);\n    };\n\n    this.start = () => {\n      this.setState({\n        loading: true\n      });\n      get({\n        url: 'http://localhost:8080/admin/find?username=' + umbrella.getLocalStorage('user').adminId\n      }).then(res => {\n        if (!res) {\n          _notification.open({\n            message: '后台异常'\n          });\n\n          return 0;\n        }\n\n        if (res.rspCode !== '200') {\n          _notification.open({\n            message: res.rspMsg\n          });\n        } else {\n          this.setState({\n            data: res.data\n          });\n        }\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form && this.props.form.validateFieldsAndScroll((err, values) => {\n        let adminEntity = this.state.data;\n        adminEntity.password = values.password;\n\n        if (!err) {\n          post({\n            url: 'http://localhost:8080/admin/changePass',\n            data: adminEntity\n          }).then(res => {\n            if (!res) {\n              _notification.open({\n                message: '后台异常'\n              });\n\n              return 0;\n            }\n\n            if (res.rspCode !== '200') {\n              _notification.open({\n                message: res.rspMsg\n              });\n            } else {\n              _notification.open({\n                message: res.rspMsg\n              });\n\n              umbrella.removeLocalStorage('user');\n              this.props.history.push('/login');\n            }\n          });\n        } else {\n          _notification.open({\n            message: '修改失败'\n          });\n\n          return 0;\n        }\n      });\n    };\n\n    this.handleConfirmBlur = e => {\n      const value = e.target && e.target.value;\n      this.setState({\n        confirmDirty: this.state.confirmDirty || !!value\n      });\n    };\n\n    this.checkPassword = (rule, value, callback) => {\n      const form = this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('两次密码不一致');\n      } else {\n        callback();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.start();\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 5\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 14\n        }\n      }\n    };\n    const tailFormItemLayout = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 14,\n          offset: 10\n        }\n      }\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gutter-example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbCustom, {\n      first: \"\\u4E2A\\u4EBA\\u4FE1\\u606F\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(_Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      className: \"gutter-row\",\n      md: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gutter-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(_Card, {\n      title: \"\\u4E2A\\u4EBA\\u4FE1\\u606F\",\n      bordered: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(_Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, Object.assign({}, formItemLayout, {\n      label: \"\\u8D26\\u53F7\",\n      hasFeedback: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }), this.state.data.adminId), /*#__PURE__*/React.createElement(FormItem, Object.assign({}, formItemLayout, {\n      label: \"\\u7B49\\u7EA7\",\n      hasFeedback: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }), this.state.data.role == 1 ? '超级管理员' : '管理员'), /*#__PURE__*/React.createElement(FormItem, Object.assign({}, formItemLayout, {\n      label: \"\\u5BC6\\u7801\",\n      hasFeedback: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }), getFieldDecorator('password', {\n      rules: [{\n        required: true,\n        message: '请输入密码!'\n      }]\n    })( /*#__PURE__*/React.createElement(_Input, {\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 44\n      }\n    }))), /*#__PURE__*/React.createElement(FormItem, Object.assign({}, formItemLayout, {\n      label: \"\\u786E\\u8BA4\\u5BC6\\u7801\",\n      hasFeedback: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 37\n      }\n    }), getFieldDecorator('confirm', {\n      rules: [{\n        required: true,\n        message: '请确认你的密码!'\n      }, {\n        validator: this.checkPassword\n      }]\n    })( /*#__PURE__*/React.createElement(_Input, {\n      type: \"password\",\n      onBlur: this.handleConfirmBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(FormItem, Object.assign({}, tailFormItemLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 41\n      }\n    }, \"\\u4FEE\\u6539\\u5BC6\\u7801\"), /*#__PURE__*/React.createElement(_Button, {\n      size: \"large\",\n      onClick: this.back,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 41\n      }\n    }, \"\\u53D6\\u6D88\"))))))));\n  }\n\n}\n\nexport default _Form.create()(withRouter(BasicForms));","map":{"version":3,"sources":["C:/Users/asus/Desktop/zucc-bysg/web/myapp/src/components/pages/changePass.tsx"],"names":["React","Component","BreadcrumbCustom","get","post","umbrella","withRouter","FormItem","Item","BasicForms","state","confirmDirty","loading","data","adminId","role","password","back","props","history","go","start","setState","url","getLocalStorage","then","res","open","message","rspCode","rspMsg","handleSubmit","e","preventDefault","form","validateFieldsAndScroll","err","values","adminEntity","removeLocalStorage","push","handleConfirmBlur","value","target","checkPassword","rule","callback","getFieldValue","componentDidMount","render","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","rules","required","validator","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n    Card,\r\n    Form,\r\n    Input,\r\n    Row,\r\n    Col,\r\n    Button,\r\n    notification,\r\n} from 'antd';\r\nimport BreadcrumbCustom from '../BreadcrumbCustom';\r\nimport { FormProps } from 'antd/lib/form';\r\nimport { get, post } from '../../service/tools';\r\nimport umbrella from 'umbrella-storage';\r\nimport { RouteComponentProps, withRouter } from 'react-router';\r\nconst FormItem = Form.Item;\r\n\r\ntype BasicFormProps = {} & FormProps & RouteComponentProps;\r\n\r\nclass BasicForms extends Component<BasicFormProps> {\r\n    state = {\r\n        confirmDirty: false,\r\n        loading: false,\r\n        data: {\r\n            adminId:'',\r\n            role:0,\r\n            password:\"\"\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.start();\r\n    };\r\n    back = () => {\r\n        this.props.history.go(-1);\r\n    };\r\n    start = () => {\r\n        this.setState({ loading: true });\r\n        get({\r\n            url: 'http://localhost:8080/admin/find?username='+umbrella.getLocalStorage('user').adminId,\r\n        }).then((res) => {\r\n            if (!res) {\r\n                notification.open({\r\n                    message: '后台异常',\r\n                });\r\n                return 0;\r\n            }\r\n            if (res.rspCode !== '200') {\r\n                notification.open({\r\n                    message: res.rspMsg,\r\n                });\r\n            } else {\r\n               this.setState({\r\n                   data:res.data\r\n               })\r\n            }\r\n        },)\r\n    };\r\n\r\n    handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n       \r\n        this.props.form &&\r\n            this.props.form.validateFieldsAndScroll((err, values) => {\r\n                let adminEntity = this.state.data;\r\n                adminEntity.password = values.password\r\n                \r\n                if (!err) {\r\n                    post({\r\n                        url: 'http://localhost:8080/admin/changePass',\r\n                        data: adminEntity\r\n                    }).then((res) => {\r\n                        if (!res) {\r\n                            notification.open({\r\n                                message: '后台异常',\r\n                            });\r\n                            return 0;\r\n                        }\r\n                        if (res.rspCode !== '200') {\r\n                            notification.open({\r\n                                message: res.rspMsg,\r\n                            });\r\n\r\n                           \r\n                        } else {\r\n                        \r\n                            notification.open({\r\n                                message: res.rspMsg,\r\n                            });\r\n                            umbrella.removeLocalStorage('user');\r\n                            this.props.history.push('/login');\r\n        \r\n                            \r\n                        }\r\n                    });\r\n                }else{\r\n                    notification.open({\r\n                        message: '修改失败',\r\n                    });\r\n                    return 0;\r\n                }\r\n            });\r\n    };\r\n    handleConfirmBlur = (e: React.FocusEvent) => {\r\n        const value = e.target && (e.target as any).value;\r\n        this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n    };\r\n    checkPassword = (rule: any, value: any, callback: any) => {\r\n        const form = this.props.form;\r\n        if (value && value !== form!.getFieldValue('password')) {\r\n            callback('两次密码不一致');\r\n        } else {\r\n            callback();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form!;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 5 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 14 },\r\n            },\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {\r\n                xs: {\r\n                    span: 24,\r\n                    offset: 0,\r\n                },\r\n                sm: {\r\n                    span: 14,\r\n                    offset: 10,\r\n                },\r\n            },\r\n        };\r\n       \r\n        return (\r\n            <div className=\"gutter-example\">\r\n                <BreadcrumbCustom first=\"个人信息\" />\r\n                <Row gutter={16}>\r\n                    <Col className=\"gutter-row\" md={24}>\r\n                        <div className=\"gutter-box\">\r\n                            <Card title=\"个人信息\" bordered={false}>\r\n                                <Form onSubmit={this.handleSubmit}>\r\n                                    <FormItem {...formItemLayout} label=\"账号\" hasFeedback>\r\n                                        {this.state.data.adminId}\r\n                                    </FormItem>\r\n                                    <FormItem {...formItemLayout} label=\"等级\" hasFeedback>\r\n                                        {this.state.data.role == 1?'超级管理员':'管理员'}\r\n                                    </FormItem>\r\n                                    <FormItem {...formItemLayout} label=\"密码\" hasFeedback>\r\n                                        {getFieldDecorator('password', {\r\n                                            rules: [\r\n                                                {\r\n                                                    required: true,\r\n                                                    message: '请输入密码!',\r\n                                                },\r\n                                                \r\n                                            ],\r\n                                        })(<Input type=\"password\" />)}\r\n                                    </FormItem>\r\n                                    <FormItem {...formItemLayout} label=\"确认密码\" hasFeedback>\r\n                                        {getFieldDecorator('confirm', {\r\n                                            rules: [\r\n                                                {\r\n                                                    required: true,\r\n                                                    message: '请确认你的密码!',\r\n                                                },\r\n                                                {\r\n                                                    validator: this.checkPassword,\r\n                                                },\r\n                                            ],\r\n                                        })(\r\n                                            <Input\r\n                                                type=\"password\"\r\n                                                onBlur={this.handleConfirmBlur}\r\n                                            />\r\n                                        )}\r\n                                    </FormItem>\r\n                                       \r\n                                    <FormItem {...tailFormItemLayout}>\r\n                                        \r\n                                        <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n                                            修改密码\r\n                                        </Button>\r\n                                        <Button size=\"large\" onClick={ this.back }>\r\n                                            取消\r\n                                        </Button>\r\n\r\n                                    </FormItem>\r\n                                </Form>\r\n                            </Card>\r\n                        </div>\r\n                    </Col>\r\n                    \r\n                </Row>\r\n               \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default (Form.create()(withRouter(BasicForms)));\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}