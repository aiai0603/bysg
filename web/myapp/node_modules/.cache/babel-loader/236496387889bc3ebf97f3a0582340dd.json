{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/notification/style\";\nimport _notification from \"antd/lib/notification\";\nvar _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\zucc-bysg\\\\web\\\\myapp\\\\src\\\\components\\\\tables\\\\AsynchronousTable.tsx\";\n\n/**\n * Created by hao.cheng on 2017/4/16.\n */\nimport React from 'react';\nimport BreadcrumbCustom from '../BreadcrumbCustom';\nimport { get } from '../../service/tools';\n\nclass AsynchronousTable extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedRowKeys: [],\n      // Check here to configure the default column\n      loading: false,\n      data: [],\n      filteredInfo: {\n        role: '1'\n      }\n    };\n\n    this.start = () => {\n      this.setState({\n        loading: true\n      });\n      get({\n        url: 'http://localhost:8080/admin/findall'\n      }).then(res => {\n        if (!res) {\n          _notification.open({\n            message: '后台异常'\n          });\n\n          return 0;\n        }\n\n        if (res.rspCode !== '200') {\n          _notification.open({\n            message: res.rspMsg\n          });\n        } else {\n          this.setState({\n            data: res.data\n          });\n          this.setState({\n            loading: false\n          });\n        }\n      });\n    };\n\n    this.onSelectChange = selectedRowKeys => {\n      console.log('selectedRowKeys changed: ', selectedRowKeys);\n      this.setState({\n        selectedRowKeys\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.start();\n  }\n\n  render() {\n    let {\n      loading,\n      selectedRowKeys,\n      filteredInfo\n    } = this.state;\n    const rowSelection = {\n      selectedRowKeys,\n      onChange: this.onSelectChange,\n      selections: [{\n        key: 'odd',\n        text: '选择奇数列',\n        onSelect: changableRowKeys => {\n          let newSelectedRowKeys = [];\n          newSelectedRowKeys = changableRowKeys.filter((key, index) => {\n            if (index % 2 !== 0) {\n              return false;\n            }\n\n            return true;\n          });\n          this.setState({\n            selectedRowKeys: newSelectedRowKeys\n          });\n        }\n      }, {\n        key: 'even',\n        text: '选择偶数列',\n        onSelect: changableRowKeys => {\n          let newSelectedRowKeys = [];\n          newSelectedRowKeys = changableRowKeys.filter((key, index) => {\n            if (index % 2 !== 0) {\n              return true;\n            }\n\n            return false;\n          });\n          this.setState({\n            selectedRowKeys: newSelectedRowKeys\n          });\n        }\n      }] // onSelection: this.onSelection,\n\n    };\n    const columns = [{\n      title: 'Id',\n      dataIndex: 'id',\n      width: 40,\n      sorter: true\n    }, {\n      title: '账号',\n      dataIndex: 'adminId',\n      width: 80\n    }, {\n      title: '等级',\n      dataIndex: 'role',\n      width: 80,\n      render: text => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 43\n        }\n      }, text === 2 ? '普通管理员' : '超级管理员')\n    }, {\n      title: '状态',\n      dataIndex: 'deleteFlag',\n      width: 80,\n      render: text => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 43\n        }\n      }, text === 0 ? '正常' : '封禁')\n    }, {\n      title: '创建时间',\n      dataIndex: 'createTime',\n      width: 200\n    }];\n    const hasSelected = selectedRowKeys.length > 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gutter-example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbCustom, {\n      first: \"\\u8868\\u683C\",\n      second: \"\\u5F02\\u6B65\\u8868\\u683C\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(_Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      className: \"gutter-row\",\n      md: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gutter-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(_Card, {\n      title: \"\\u7BA1\\u7406\\u5458\\u7BA1\\u7406\",\n      bordered: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.start,\n      disabled: loading,\n      loading: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 37\n      }\n    }, \"Reload\"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 37\n      }\n    }, hasSelected ? `Selected ${selectedRowKeys.length} items` : '')), /*#__PURE__*/React.createElement(_Table, {\n      rowSelection: rowSelection,\n      columns: columns,\n      dataSource: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    }), \");\")))));\n  }\n\n}\n\nexport default AsynchronousTable;","map":{"version":3,"sources":["C:/Users/asus/Desktop/zucc-bysg/web/myapp/src/components/tables/AsynchronousTable.tsx"],"names":["React","BreadcrumbCustom","get","AsynchronousTable","Component","state","selectedRowKeys","loading","data","filteredInfo","role","start","setState","url","then","res","open","message","rspCode","rspMsg","onSelectChange","console","log","componentDidMount","render","rowSelection","onChange","selections","key","text","onSelect","changableRowKeys","newSelectedRowKeys","filter","index","columns","title","dataIndex","width","sorter","hasSelected","length","marginBottom","marginLeft"],"mappings":"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","sourcesContent":["/**\n * Created by hao.cheng on 2017/4/16.\n */\nimport React from 'react';\nimport { Table, Button, Row, Col, Card, notification } from 'antd';\nimport BreadcrumbCustom from '../BreadcrumbCustom';\nimport { TableRowSelection } from 'antd/lib/table';\nimport { get } from '../../service/tools';\n\nclass AsynchronousTable extends React.Component {\n    state = {\n        selectedRowKeys: [], // Check here to configure the default column\n        loading: false,\n        data: [],\n        filteredInfo:{role:'1'}\n    };\n\n    \n   \n\n    componentDidMount() {\n        this.start();\n    }\n    start = () => {\n        this.setState({ loading: true });\n        get({\n            url: 'http://localhost:8080/admin/findall',\n        }).then((res) => {\n            if (!res) {\n                notification.open({\n                    message: '后台异常',\n                });\n                return 0;\n            }\n            if (res.rspCode !== '200') {\n                notification.open({\n                    message: res.rspMsg,\n                });\n            } else {\n                this.setState({\n                    data: res.data,\n                });\n                this.setState({ loading: false });\n            }\n        });\n    };\n    onSelectChange = (selectedRowKeys: string[] | number[]) => {\n        console.log('selectedRowKeys changed: ', selectedRowKeys);\n        this.setState({ selectedRowKeys });\n    };\n    render() {\n        let { loading, selectedRowKeys, filteredInfo } = this.state;\n\n        const rowSelection: TableRowSelection<any> = {\n            selectedRowKeys,\n            onChange: this.onSelectChange,\n            selections: [\n                {\n                    key: 'odd',\n                    text: '选择奇数列',\n                    onSelect: (changableRowKeys: string[]) => {\n                        let newSelectedRowKeys = [];\n                        newSelectedRowKeys = changableRowKeys.filter((key, index) => {\n                            if (index % 2 !== 0) {\n                                return false;\n                            }\n                            return true;\n                        });\n                        this.setState({ selectedRowKeys: newSelectedRowKeys });\n                    },\n                },\n                {\n                    key: 'even',\n                    text: '选择偶数列',\n                    onSelect: (changableRowKeys: string[]) => {\n                        let newSelectedRowKeys = [];\n                        newSelectedRowKeys = changableRowKeys.filter((key, index) => {\n                            if (index % 2 !== 0) {\n                                return true;\n                            }\n                            return false;\n                        });\n                        this.setState({ selectedRowKeys: newSelectedRowKeys });\n                    },\n                },\n            ],\n            // onSelection: this.onSelection,\n        };\n\n        const columns = [\n            {\n                title: 'Id',\n                dataIndex: 'id',\n                width: 40,\n                sorter: true,\n            },\n            {\n                title: '账号',\n                dataIndex: 'adminId',\n                width: 80,\n            },\n            {\n                title: '等级',\n                dataIndex: 'role',\n                width: 80,\n                render: (text: number) => <div>{text === 2 ? '普通管理员' : '超级管理员'}</div>,\n            },\n            {\n                title: '状态',\n                dataIndex: 'deleteFlag',\n                width: 80,\n                render: (text: number) => <div>{text === 0 ? '正常' : '封禁'}</div>,\n            },\n            {\n                title: '创建时间',\n                dataIndex: 'createTime',\n                width: 200,\n            },\n        ];\n\n        const hasSelected = selectedRowKeys.length > 0;\n        return (\n            <div className=\"gutter-example\">\n                <BreadcrumbCustom first=\"表格\" second=\"异步表格\" />\n                <Row gutter={16}>\n                    <Col className=\"gutter-row\" md={24}>\n                        <div className=\"gutter-box\">\n                            <Card title=\"管理员管理\" bordered={false}>\n                                <div style={{ marginBottom: 16 }}>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={this.start}\n                                        disabled={loading}\n                                        loading={loading}\n                                    >\n                                        Reload\n                                    </Button>\n                                    <span style={{ marginLeft: 8 }}>\n                                        {hasSelected\n                                            ? `Selected ${selectedRowKeys.length} items`\n                                            : ''}\n                                    </span>\n                                </div>\n                                <Table\n                                    rowSelection={rowSelection as TableRowSelection<any>}\n                                    columns={columns}\n                                    dataSource={this.state.data}\n                                />\n                                );\n                            </Card>\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default AsynchronousTable;\n"]},"metadata":{},"sourceType":"module"}